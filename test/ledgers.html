<!DOCTYPE html>
<html lang="en">
<head>
    <title>&lt;scribe-music&gt;</title>

    <meta charset="utf-8" />
    <meta name="author" content="@stephband" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width" />

    <!--script type="importmap">{
        "imports": {
            "bolt/":     "https://cdn.jsdelivr.net/gh/stephband/bolt-2@latest/",
            "dom/":      "https://cdn.jsdelivr.net/gh/stephband/dom@1.4.1/modules/",
            "fn/":       "https://cdn.jsdelivr.net/gh/stephband/fn@1.5.x/modules/",
            "midi/":     "https://cdn.jsdelivr.net/gh/stephband/midi@1.1.1/modules/",
            "sequence/": "https://cdn.jsdelivr.net/gh/soundio/sequence@0.2.21/"
        }
    }</script-->

    <script type="importmap">{
        "imports": {
            "bolt/":     "/bolt/",
            "dom/":      "/dom/modules/",
            "fn/":       "/fn/modules/",
            "midi/":     "/midi/modules/",
            "sequence/": "/sequence/"
        }
    }</script>

    <script title="load">
        document.documentElement.className += ' js loading';
        // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
        // Wait for other load handlers to run first - Bolt does a few things on
        // load (eg. targetable scrolls) and we want them to run before the loading
        // class is removed
        window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
        window.DEBUG = true;
    </script>

    <!-- Import <scribe-music> -->
    <link rel="stylesheet" href="/bolt/classes/atoms.css" />
    <link rel="stylesheet" href="../scribe-music/element.css" />
    <script type="module" src="../scribe-music/element.js"></script>
    <link rel="stylesheet" href="../assets/lead-sheet-document.css" />
    <style>
    body {
        font-family: Jazz, JazzText;
        letter-spacing: 0.004em;
        word-spacing: 0.125em;
    }
    </style>
</head>

<body>
    <section class="grid dense-grid" style="row-gap: 0;">
        <h3 class="x1 6x no-wrap">Clusters</h3>

        <scribe-music class="x1 no-wrap" clef="treble" src="#note-1" debug>
            <script type="application/json" id="note-1">{
                "events": [
                    [0, "note", "C4", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x2 no-wrap" clef="treble" src="#note-2" debug>
            <script type="application/json" id="note-2">{
                "events": [
                    [0, "note", "C4", 0.1, 0.25],
                    [0, "note", "D4", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x3 no-wrap" clef="treble" src="#note-3" debug>
            <script type="application/json" id="note-3">{
                "events": [
                    [0, "note", "C4", 0.1, 0.25],
                    [0, "note", "Db4", 0.1, 0.25],
                    [0, "note", "Eb4", 0.1, 0.25],
                    [0, "note", "F4", 0.1, 0.25],
                    [0, "note", "Gb4", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x4 no-wrap" clef="treble" src="#note-4" debug>
            <script type="application/json" id="note-4">{
                "events": [
                    [0, "note", "C#4", 0.1, 0.25],
                    [0, "note", "D#4", 0.1, 0.25],
                    [0, "note", "E4", 0.1, 0.25],
                    [0, "note", "F#4", 0.1, 0.25],
                    [0, "note", "G#4", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x5 no-wrap" clef="treble" src="#note-5" debug>
            <script type="application/json" id="note-5">{
                "events": [
                    [0, "note", "C#4", 0.1, 0.25],
                    [0, "note", "D#4", 0.1, 0.25],
                    [0, "note", "E4", 0.1, 0.25],
                    [0, "note", "F#4", 0.1, 0.25],
                    [0, "note", "G#4", 0.1, 0.25],
                    [0, "note", "D#3", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x1 no-wrap" clef="treble" src="#note-6" debug>
            <script type="application/json" id="note-6">{
                "events": [
                    [0, "note", "E6", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x2 no-wrap" clef="treble" src="#note-7" debug>
            <script type="application/json" id="note-7">{
                "events": [
                    [0, "note", "E6", 0.1, 0.25],
                    [0, "note", "D6", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x3 no-wrap" clef="treble" src="#note-8" debug>
            <script type="application/json" id="note-8">{
                "events": [
                    [0, "note", "E6", 0.1, 0.25],
                    [0, "note", "D6", 0.1, 0.25],
                    [0, "note", "C6", 0.1, 0.25],
                    [0, "note", "B5", 0.1, 0.25],
                    [0, "note", "A5", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x4 no-wrap" clef="treble" src="#note-9" debug>
            <script type="application/json" id="note-9">{
                "events": [
                    [0, "note", "Eb6", 0.1, 0.25],
                    [0, "note", "Db6", 0.1, 0.25],
                    [0, "note", "C6", 0.1, 0.25],
                    [0, "note", "Bb5", 0.1, 0.25],
                    [0, "note", "Ab5", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x5 no-wrap" clef="treble" src="#note-10" debug>
            <script type="application/json" id="note-10">{
                "events": [
                    [0, "note", "Eb6", 0.1, 0.25],
                    [0, "note", "Db6", 0.1, 0.25],
                    [0, "note", "C6", 0.1, 0.25],
                    [0, "note", "Bb5", 0.1, 0.25],
                    [0, "note", "Ab5", 0.1, 0.25],
                    [0, "note", "Bb4", 0.1, 0.25]
                ]
            }</script>
        </scribe-music>

        <h3 class="x1 no-wrap">Ledger lines</h3>

        <scribe-music class="x1 6x no-wrap" clef="treble" src="#ledge-1" debug>
            <script type="application/json" id="ledge-1">{
                "events": [
                    [0, "meter", 6, 1],
                    [0, "note", "C4", 0.1, 1],
                    [1, "note", "B3", 0.1, 1],
                    [2, "note", "A3", 0.1, 1],
                    [3, "note", "G3", 0.1, 1],
                    [4, "note", "F3", 0.1, 1],
                    [5, "note", "E3", 0.1, 1],
                    [6, "note", "D3", 0.1, 1],
                    [7, "note", "C3", 0.1, 1]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x1 6x no-wrap" clef="treble" src="#ledge-2" debug>
            <script type="application/json" id="ledge-2">{
                "events": [
                    [0, "meter", 6, 1],
                    [0, "note", "A5", 0.1, 1],
                    [1, "note", "B5", 0.1, 1],
                    [2, "note", "C6", 0.1, 1],
                    [3, "note", "D6", 0.1, 1],
                    [4, "note", "E6", 0.1, 1],
                    [5, "note", "F6", 0.1, 1],
                    [6, "note", "G6", 0.1, 1],
                    [7, "note", "A6", 0.1, 1]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x1 6x no-wrap" clef="bass" src="#ledge-3" debug>
            <script type="application/json" id="ledge-3">{
                "events": [
                    [0, "meter", 6, 1],
                    [0, "note", "E2", 0.1, 1],
                    [1, "note", "D2", 0.1, 1],
                    [2, "note", "C2", 0.1, 1],
                    [3, "note", "B1", 0.1, 1],
                    [4, "note", "A1", 0.1, 1],
                    [5, "note", "G1", 0.1, 1],
                    [6, "note", "F1", 0.1, 1],
                    [7, "note", "E1", 0.1, 1]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x1 6x no-wrap" clef="bass" src="#ledge-4" debug>
            <script type="application/json" id="ledge-4">{
                "events": [
                    [0, "meter", 6, 1],
                    [0, "note", "C5", 0.1, 1],
                    [1, "note", "B4", 0.1, 1],
                    [2, "note", "A4", 0.1, 1],
                    [3, "note", "G4", 0.1, 1],
                    [4, "note", "F4", 0.1, 1],
                    [5, "note", "E4", 0.1, 1],
                    [6, "note", "D4", 0.1, 1],
                    [7, "note", "C4", 0.1, 1]
                ]
            }</script>
        </scribe-music>

        <scribe-music class="x1 6x no-wrap" clef="piano" src="#ledge-5" meter="4/4" debug>
            <script type="application/json" id="ledge-5">{
                "events": [
                    [0, "sequence", 1, 1, 8]
                ],

                "sequences": [{
                    "id": 1,
                    "events": [
                        [0, "note", "A3", 0.1, 1],
                        [1, "note", "B3", 0.1, 1],
                        [2, "note", "C4", 0.1, 1],
                        [3, "note", "D4", 0.1, 1],
                        [4, "note", "E4", 0.1, 1],
                        [5, "note", "F4", 0.1, 1],
                        [6, "note", "G4", 0.1, 1],
                        [7, "note", "A4", 0.1, 1]
                    ]
                }]
            }</script>
        </scribe-music>

        <scribe-music class="x1 6x no-wrap" clef="piano" src="#ledge-6" meter="4/4" debug>
            <script type="application/json" id="ledge-6">{
                "events": [
                    [0, "sequence", 1, 2, 8]
                ],

                "sequences": [{
                    "id": 1,
                    "events": [
                        [0, "note", "C4", 0.1, 1],
                        [1, "note", "B3", 0.1, 1],
                        [2, "note", "A3", 0.1, 1],
                        [3, "note", "G3", 0.1, 1],
                        [4, "note", "F3", 0.1, 1],
                        [5, "note", "E3", 0.1, 1],
                        [6, "note", "D3", 0.1, 1]
                    ]
                }]
            }</script>
        </scribe-music>

        <h3 class="x1 no-wrap">No meter</h3>

        <scribe-music class="x1 6x no-wrap" clef="piano" src="#ledge-6" debug>
            <script type="application/json" id="ledge-6">{
                "events": [
                    [0, "sequence", 1, 2, 8]
                ],

                "sequences": [{
                    "id": 1,
                    "events": [
                        [0, "note", "C4", 0.1, 1],
                        [1, "note", "B3", 0.1, 1],
                        [2, "note", "A3", 0.1, 1],
                        [3, "note", "G3", 0.1, 1],
                        [4, "note", "F3", 0.1, 1],
                        [5, "note", "E3", 0.1, 1],
                        [6, "note", "D3", 0.1, 1]
                    ]
                }]
            }</script>
        </scribe-music>

        <!-- -->
    </section>
</body>
</html>
